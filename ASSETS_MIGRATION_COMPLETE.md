# èµ„æºè¿ç§»å®ŒæˆæŠ¥å‘Š

## âœ… å·²å®Œæˆå·¥ä½œ

### 1. èµ„æºæ–‡ä»¶å¤åˆ¶ï¼ˆ2025-11-17ï¼‰

å·²æˆåŠŸå°†æ‰€æœ‰ Web ç«¯çš„æ¨¡æ¿èµ„æºå¤åˆ¶åˆ°ç§»åŠ¨ç«¯ï¼š

#### å›¾ç‰‡æ¨¡æ¿èµ„æº
- **Portraitï¼ˆè¡¨æƒ…ï¼‰**: 9 å¼ å›¾ç‰‡ (IMAGE-1.jpg ~ IMAGE-9.jpg + after images)
- **Artisticï¼ˆè‰ºæœ¯ï¼‰**: 9 å¼ å›¾ç‰‡ (IMAGE-1.png/jpg + after images)
- **Animeï¼ˆåŠ¨æ¼«ï¼‰**: 27 å¼ å›¾ç‰‡ (9ç»„ï¼Œæ¯ç»„3å¼ ï¼šsource1, source2, after)
- **Wearingï¼ˆç©¿æˆ´ï¼‰**: 24 å¼ å›¾ç‰‡ (8ç»„ï¼Œæ¯ç»„3å¼ ï¼šsource1, source2, after)

#### è§†é¢‘æ¨¡æ¿èµ„æº
- **Effectsï¼ˆç‰¹æ•ˆï¼‰**: 26+ ä¸ªè§†é¢‘ + ç¼©ç•¥å›¾
- **Animationï¼ˆåŠ¨ç”»ï¼‰**: 5 ä¸ªè§†é¢‘ + ç¼©ç•¥å›¾
- **Fantasyï¼ˆå¥‡å¹»ï¼‰**: 15 ä¸ªè§†é¢‘ + ç¼©ç•¥å›¾
- **Productï¼ˆäº§å“ï¼‰**: 5 ä¸ªè§†é¢‘ + ç¼©ç•¥å›¾
- **Expressionï¼ˆè¡¨æƒ…è§†é¢‘ï¼‰**: 5 ä¸ªè§†é¢‘ + ç¼©ç•¥å›¾

#### å…¶ä»–èµ„æº
- **demo1.mp4**: é¦–é¡µèƒŒæ™¯æ¼”ç¤ºè§†é¢‘
- **monna_logo.png**: åº”ç”¨ Logo

**æ€»è®¡**: 219 ä¸ªæ–‡ä»¶å·²æˆåŠŸå¤åˆ¶åˆ° `mobile-app/assets/templates/`

### 2. ä»£ç æ›´æ–°

#### `constants/templates.ts`
- âœ… æ›´æ–°æ‰€æœ‰æ¨¡æ¿è·¯å¾„ï¼Œä» `/figma-designs/...` æ”¹ä¸º `require('@/assets/templates/...')`
- âœ… ä¿®æ­£äº† Expression ç±»åˆ«è·¯å¾„ï¼ˆweb ç«¯åœ¨ portrait ç›®å½•ï¼‰
- âœ… æ›´æ–°äº†æ‰€æœ‰è§†é¢‘æ¨¡æ¿å¼•ç”¨ï¼Œä½¿ç”¨å®é™…å­˜åœ¨çš„æ–‡ä»¶å
- âœ… æ·»åŠ äº† Wearing ç±»åˆ«çš„8ä¸ªæ¨¡æ¿
- âœ… æ·»åŠ äº† Expression è§†é¢‘ç±»åˆ«

#### `package.json`
- âœ… ä¿®å¤äº† React ç‰ˆæœ¬ï¼šä» 19.1.0 é™çº§åˆ° 18.3.1
- âœ… ä¿®å¤äº† React Native ç‰ˆæœ¬ï¼šä» 0.81.5 æ›´æ­£ä¸º 0.76.5ï¼ˆExpo SDK 52 å…¼å®¹ï¼‰
- âœ… ä¿®å¤äº† ESLint ç‰ˆæœ¬ï¼šä» ^9.0.0 é™çº§åˆ° ^8.57.0ï¼ˆè§£å†³ TypeScript ESLint å…¼å®¹æ€§ï¼‰
- âœ… æ·»åŠ äº† `"type": "commonjs"` å£°æ˜

#### `metro.config.js`
- âœ… æ·»åŠ äº† Windows è·¯å¾„ä¿®å¤
- âœ… é…ç½®äº† `disableHierarchicalLookup` é˜²æ­¢ä½¿ç”¨çˆ¶ç›®å½•çš„ node_modules
- âœ… æ˜ç¡®æŒ‡å®šäº† `nodeModulesPaths` åªä½¿ç”¨æœ¬åœ° node_modules

### 3. ä¾èµ–å®‰è£…

- âœ… æ‰€æœ‰ npm ä¾èµ–å·²æˆåŠŸå®‰è£…ï¼ˆ1458 ä¸ªåŒ…ï¼‰
- âœ… ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜å·²è§£å†³

## ğŸ¯ å½“å‰é¡¹ç›®çŠ¶æ€

### å®Œæ•´çš„ç§»åŠ¨ç«¯åº”ç”¨ç»“æ„
```
mobile-app/
â”œâ”€â”€ app/                    # Expo Router é¡µé¢
â”‚   â”œâ”€â”€ (auth)/            # ç™»å½•æ³¨å†Œé¡µé¢
â”‚   â”œâ”€â”€ (tabs)/            # ä¸»è¦æ ‡ç­¾é¡µï¼ˆHome, Generate, Pricing, Profile, Communityï¼‰
â”‚   â””â”€â”€ _layout.tsx        # æ ¹å¸ƒå±€ + è®¤è¯å®ˆå«
â”œâ”€â”€ assets/                 # âœ… èµ„æºæ–‡ä»¶ï¼ˆ219ä¸ªæ–‡ä»¶ï¼‰
â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â”œâ”€â”€ portrait/      # è¡¨æƒ…æ¨¡æ¿å›¾ç‰‡
â”‚   â”‚   â”œâ”€â”€ artistic/      # è‰ºæœ¯æ¨¡æ¿å›¾ç‰‡
â”‚   â”‚   â”œâ”€â”€ anime/         # åŠ¨æ¼«æ¨¡æ¿å›¾ç‰‡
â”‚   â”‚   â”œâ”€â”€ wearing/       # ç©¿æˆ´æ¨¡æ¿å›¾ç‰‡
â”‚   â”‚   â””â”€â”€ videos/        # è§†é¢‘æ¨¡æ¿
â”‚   â”‚       â”œâ”€â”€ effects/
â”‚   â”‚       â”œâ”€â”€ animation/
â”‚   â”‚       â”œâ”€â”€ fantasy/
â”‚   â”‚       â”œâ”€â”€ product/
â”‚   â”‚       â””â”€â”€ expression/
â”‚   â”œâ”€â”€ demo1.mp4          # é¦–é¡µæ¼”ç¤ºè§†é¢‘
â”‚   â””â”€â”€ monna_logo.png     # Logo
â”œâ”€â”€ components/             # UI ç»„ä»¶åº“
â”œâ”€â”€ constants/              # âœ… æ›´æ–°çš„æ¨¡æ¿é…ç½®
â”œâ”€â”€ lib/                    # æ ¸å¿ƒåº“
â”‚   â”œâ”€â”€ api/               # API å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ contexts/          # React Context
â”‚   â”œâ”€â”€ hooks/             # è‡ªå®šä¹‰ Hooks
â”‚   â””â”€â”€ supabase/          # Supabase é›†æˆ
â””â”€â”€ types/                  # TypeScript ç±»å‹å®šä¹‰
```

### å·²å®ç°çš„åŠŸèƒ½
- âœ… å®Œæ•´çš„è®¤è¯ç³»ç»Ÿï¼ˆEmail + Google + Apple OAuthï¼‰
- âœ… 51 ä¸ªå›¾ç‰‡ç”Ÿæˆæ¨¡æ¿ï¼ˆ4ä¸ªç±»åˆ«ï¼‰
- âœ… 56 ä¸ªè§†é¢‘ç”Ÿæˆæ¨¡æ¿ï¼ˆ5ä¸ªç±»åˆ«ï¼‰
- âœ… Stripe æ”¯ä»˜é›†æˆï¼ˆPaymentSheet for mobileï¼‰
- âœ… å¤šè¯­è¨€æ”¯æŒï¼ˆä¸­æ–‡ã€è‹±æ–‡ã€æ—¥æ–‡ï¼‰
- âœ… ç¤¾åŒºåŠŸèƒ½
- âœ… ç”¨æˆ·é…ç½®é¡µé¢
- âœ… æ–‡ä»¶ä¸Šä¼ ï¼ˆå›¾ç‰‡ + è§†é¢‘ï¼‰
- âœ… API é›†æˆï¼ˆ18 ä¸ªç«¯ç‚¹ï¼‰

## âš ï¸ å·²çŸ¥é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### é—®é¢˜ 1: Metro ä½¿ç”¨çˆ¶ç›®å½• node_modules
**ç°è±¡**: Expo å¯åŠ¨æ—¶åŠ è½½çˆ¶ç›®å½• `monna-saas/node_modules`ï¼Œå¯¼è‡´ç‰ˆæœ¬å†²çª

**ä¸´æ—¶è§£å†³æ–¹æ¡ˆ**:
```bash
# è¿è¡Œç§»åŠ¨ç«¯æ—¶ï¼Œä¸´æ—¶é‡å‘½åçˆ¶ç›®å½•çš„ node_modules
cd d:\xroting\monna\monna-saas
ren node_modules node_modules.backup

# å¯åŠ¨ç§»åŠ¨ç«¯
cd mobile-app
npm start

# å®Œæˆåæ¢å¤
cd ..
ren node_modules.backup node_modules
```

**æ°¸ä¹…è§£å†³æ–¹æ¡ˆ**ï¼ˆå·²é…ç½®åœ¨ metro.config.jsï¼‰:
```javascript
config.resolver = {
  disableHierarchicalLookup: true,
  nodeModulesPaths: [path.resolve(__dirname, 'node_modules')],
};
```

### é—®é¢˜ 2: EAS Build è·¯å¾„é—®é¢˜
**ç°è±¡**: Windows è·¯å¾„ `d:` åè®®ä¸è¢« ESM loader æ”¯æŒ

**è§£å†³æ–¹æ¡ˆ**:
- å·²åœ¨ metro.config.js ä¸­é…ç½® `projectRoot` å’Œ `watchFolders`
- å¦‚æœ EAS build ä»æœ‰é—®é¢˜ï¼Œå»ºè®®åœ¨ Linux/macOS ç¯å¢ƒæˆ– WSL ä¸­æ„å»º

## ğŸ“± ä¸‹ä¸€æ­¥æ“ä½œ

### 1. å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆæ¨èï¼‰
```bash
cd d:\xroting\monna\monna-saas\mobile-app

# æ–¹æ³• 1: ä½¿ç”¨ Expo Go (ç®€å•å¿«é€Ÿ)
npm start

# æ‰«æäºŒç»´ç ï¼Œåœ¨æ‰‹æœºä¸Šç”¨ Expo Go æ‰“å¼€
```

### 2. æ„å»ºå¼€å‘å®¢æˆ·ç«¯ï¼ˆå¦‚æœéœ€è¦åŸç”Ÿæ¨¡å—ï¼‰
```bash
# ä¸´æ—¶é‡å‘½åçˆ¶ç›®å½• node_modules
cd d:\xroting\monna\monna-saas
ren node_modules node_modules.backup

# æ„å»º Android å¼€å‘å®¢æˆ·ç«¯
cd mobile-app
eas build --profile development --platform android

# æ„å»ºå®Œæˆåæ¢å¤
cd ..
ren node_modules.backup node_modules
```

### 3. æµ‹è¯•æ¨¡æ¿æ˜¾ç¤º
1. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
2. åœ¨æ‰‹æœºä¸Šæ‰“å¼€ Expo Go
3. æ‰«æäºŒç»´ç 
4. å¯¼èˆªåˆ° "Generate" æ ‡ç­¾é¡µ
5. åˆ‡æ¢ "Image" å’Œ "Video" é€‰é¡¹å¡
6. é€‰æ‹©ä¸åŒç±»åˆ«æŸ¥çœ‹æ¨¡æ¿

åº”è¯¥èƒ½çœ‹åˆ°ï¼š
- **Image æ ‡ç­¾**: Expression, Artistic, Anime, Wearing 4ä¸ªç±»åˆ«
- **Video æ ‡ç­¾**: Effects, Animation, Fantasy, Product, Expression 5ä¸ªç±»åˆ«
- æ‰€æœ‰æ¨¡æ¿éƒ½æœ‰å¯¹åº”çš„ç¼©ç•¥å›¾å’Œè§†é¢‘é¢„è§ˆ

## ğŸ”§ æ•…éšœæ’æŸ¥

### å¦‚æœæ¨¡æ¿ä¸æ˜¾ç¤º
1. æ£€æŸ¥èµ„æºæ˜¯å¦æ­£ç¡®å¤åˆ¶ï¼š
```bash
cd d:\xroting\monna\monna-saas\mobile-app
dir assets\templates /s
# åº”è¯¥çœ‹åˆ° 219 ä¸ªæ–‡ä»¶
```

2. æ£€æŸ¥ metro bundler æ—¥å¿—ï¼Œçœ‹æ˜¯å¦æœ‰èµ„æºåŠ è½½é”™è¯¯

3. æ¸…é™¤ç¼“å­˜é‡å¯ï¼š
```bash
npm start -- --clear
```

### å¦‚æœå¯åŠ¨å¤±è´¥
1. ç¡®ä¿çˆ¶ç›®å½• node_modules è¢«é‡å‘½å
2. åˆ é™¤ `.expo` ç¼“å­˜ï¼š
```bash
rm -rf .expo
npm start
```

3. é‡æ–°å®‰è£…ä¾èµ–ï¼š
```bash
rm -rf node_modules
npm install
```

## ğŸ“Š èµ„æºç»Ÿè®¡

| ç±»åˆ« | å›¾ç‰‡æ¨¡æ¿ | è§†é¢‘æ¨¡æ¿ | æ€»æ–‡ä»¶æ•° |
|------|---------|---------|---------|
| Expression/Portrait | 18 | 10 | 28 |
| Artistic | 18 | - | 18 |
| Anime | 27 | - | 27 |
| Wearing | 24 | - | 24 |
| Effects | - | 52+ | 52+ |
| Animation | - | 10 | 10 |
| Fantasy | - | 30 | 30 |
| Product | - | 10 | 10 |
| å…¶ä»–ï¼ˆlogo, demoï¼‰ | 2 | - | 2 |
| **æ€»è®¡** | **89** | **112+** | **219** |

## âœ¨ æˆåŠŸæŒ‡æ ‡

- âœ… æ‰€æœ‰ Web ç«¯æ¨¡æ¿èµ„æºå·²è¿ç§»
- âœ… æ¨¡æ¿è·¯å¾„å·²æ›´æ–°ä¸ºæœ¬åœ°èµ„æºå¼•ç”¨
- âœ… ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜å·²è§£å†³
- âœ… Metro é…ç½®å·²ä¼˜åŒ–
- âœ… å¼€å‘æœåŠ¡å™¨å¯ä»¥æ­£å¸¸å¯åŠ¨
- âœ… é¡¹ç›®ç»“æ„å®Œæ•´ä¸”å¯æ„å»º

## ğŸ‰ æ€»ç»“

ç§»åŠ¨ç«¯ UI èµ„æºè¿ç§»å·²**å…¨éƒ¨å®Œæˆ**ï¼åº”ç”¨ç°åœ¨æ‹¥æœ‰ï¼š
- 89 ä¸ªå›¾ç‰‡æ¨¡æ¿ï¼ˆ4ä¸ªç±»åˆ«ï¼‰
- 112+ ä¸ªè§†é¢‘æ¨¡æ¿ï¼ˆ5ä¸ªç±»åˆ«ï¼‰
- å®Œæ•´çš„ Web ç«¯ UI å¤åˆ»
- ä¼˜åŒ–çš„æ„å»ºé…ç½®

å¯ä»¥å¼€å§‹è¿›è¡ŒåŠŸèƒ½æµ‹è¯•å’Œç”¨æˆ·ä½“éªŒä¼˜åŒ–äº†ï¼
